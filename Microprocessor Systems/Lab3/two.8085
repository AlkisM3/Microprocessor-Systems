	IN 10H
	MVI D,0FH	;K1
	MVI C,EFH	;K2
	MVI L,FFH	;AUXILIARY VALUE
	LXI B,0B00H	;STDM VALUE
	
	MVI A,10H	;RESET SCREEN
	STA 0B00H	;	
	STA 0B01H	;
	STA 0B02H	;
	STA 0B03H	;
	STA 0B04H	;
	STA 0B05H	;

	MVI A,0DH	;ENABLE RST 6.5 SWITCH	
	SIM		;
	EI		;
 START:
	STA 3000H	;LEDS OUTPUT
	MOV A,L	
	CALL OTHONI	;SCREEN OUTPUT
	
	CMP D		;COMPARE WITH K1
	JC ONE		;A<K1
	JZ ONE		;A=K1
	CMP E		;COMPARE WITH K2
	JC TWO		;A<K2
	JZ TWO		;A=K2
	MVI A,FBH	;[0,K1]-->FIRST LED
	JMP START	;
ONE:			
	MVI A,FEH	;(K1,K2]-->SECOND LED
	JMP START	;
TWO:
	MVI A,FDH	;(K2,FFH]-->THIRD LED
	JMP START

OTHONI:		;REFRESH SCREEN
	PUSH PSW
	PUSH H
	PUSH B
	PUSH D
	CALL STDM
	CALL DCD
	POP D
	POP B
	POP H
	POP PSW
	RET

INTR_ROUTINE:
	PUSH PSW
	
	CALL KIND	;KEYBOARD INPUT
	STA 0B00H	;LSB
	MOV L,A	;RECENT SAVE TILL MSB
	CALL KIND	;
	STA 0B01H	;MSB

	RLC		;SLIDING
	RLC		;SLIDING
	RLC		;SLIDING
	RLC		;SLIDING
	ORA L		;LSB,MSB
	MOV L,A	
	
	POP PSW
	EI
	RET
	
	END